(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(6635)}])},6635:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return E}});var r=o(5893),a=o(7294);let n=(e,t,o)=>{let r=[];for(let a=0;a<t;a++){let t=[];for(let r=0;r<e;r++)t.push(o);r.push(t)}return r},l=[{type:1,shape:[[1,1],[1,1]]},{type:2,shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]},{type:3,shape:[[0,1,0],[1,1,1],[0,0,0]]},{type:4,shape:[[0,0,1],[1,1,1],[0,0,0]]},{type:5,shape:[[1,0,0],[1,1,1],[0,0,0]]},{type:6,shape:[[0,1,1],[1,1,0],[0,0,0]]},{type:7,shape:[[1,1,0],[0,1,1],[0,0,0]]}],s=(e,t)=>{let o=[...e],r=o[0].length;for(let e=0;e<t/90%4;e++)o=o[0].map((e,t)=>o.map(e=>e[r-t-1]));return o},i=()=>{let[e,t]=(0,a.useState)(Date.now()),[o,r]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t=setTimeout(()=>{r(Math.floor((Date.now()-e)/1e3))},1e3);return()=>clearTimeout(t)},[o,e]),o},c=()=>{let[e,t]=(0,a.useState)(n(10,24,0)),[o,r]=(0,a.useState)({...l[0],startTurn:0,position:{top:1,left:3},rotate:0}),c=i(),p=(0,a.useMemo)(()=>c-o.startTurn+o.position.top,[o,c]);(0,a.useMemo)(()=>{let t=[];for(let o=0;o<e.length;o++)t.push(o);return t},[e]);let u=(0,a.useMemo)(()=>o.shape.length,[o]),_=(0,a.useMemo)(()=>{let t=n(10,21,0);for(let o=3;o<24;o++)for(let r=0;r<10;r++)t[o-3][r]=e[o][r];for(let e=0;e<u**2;e++){let r=e%u,a=Math.floor(e/u);if(void 0===t[a+p])break;t[a+p][r+o.position.left]||(t[a+p][r+o.position.left]=s(o.shape,o.rotate)[a][r]?o.type:0)}return t},[o,e,p,u]),f=(0,a.useCallback)((t,r)=>{let a=s(o.shape,o.rotate);for(let e=0;e<u**2;e++){let n=e%u,l=Math.floor(e/u),i=[1===s(o.shape,o.rotate)[l][n],void 0!==s(o.shape,o.rotate)[l+r]&&1===s(o.shape,o.rotate)[l+r][n+t]];i.every(e=>e)&&a[l][n]}for(let n=0;n<u**2;n++){let l=n%u,s=Math.floor(n/u),i=[1===a[s][l],void 0===_[s+p+r]||0!==e[s+p+r+3][l+o.position.left+t]];if(i.every(e=>e))return!1}return!0},[_,o,u,e,p]),h=(0,a.useCallback)(()=>{let r=[...e];for(let e=0;e<u**2;e++){let t=e%u,a=Math.floor(e/u);s(o.shape,o.rotate)[a][t]&&(r[a+p+3][t+o.position.left]=o.type)}t(r)},[o,u,e,p]),d=(0,a.useCallback)(()=>{f(0,1)||(r({...l[7===o.type?0:o.type],position:{top:1,left:3},startTurn:c,rotate:0}),h())},[f,o,h,c]);return(0,a.useEffect)(()=>{d()},[c,d]),(0,a.useEffect)(()=>{let e=e=>{let t=(e,t)=>{r({...o,position:{top:o.position.top+t,left:o.position.left+e}}),d()};"ArrowRight"===e.key&&f(1,0)&&t(1,0),"ArrowLeft"===e.key&&f(-1,0)&&t(-1,0),"ArrowDown"===e.key&&f(0,1)&&t(0,1),"ArrowUp"===e.key&&f(0,-1)&&(r({...o,rotate:o.rotate+90}),console.table(s(o.shape,o.rotate)))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[o,f,d]),{board:_,floatingBlock:o}};var p=o(6619),u=o.n(p);let _=()=>{let{board:e}=c();return(0,r.jsx)("div",{className:u().board,children:e.map((t,o)=>t.map((t,a)=>(0,r.jsx)("div",{className:"".concat(u().cell," ").concat(u()["color-".concat(e[o][a])])},"".concat(a,"_").concat(o))))})};var f=o(6542),h=o.n(f);let d=()=>(0,r.jsx)("div",{className:h().hover});var v=o(1642),m=o.n(v);let x=()=>(0,r.jsx)("div",{className:m().information});var w=o(8042),y=o.n(w);let k=()=>(0,r.jsx)("div",{className:y().next});var N=o(2729),j=o.n(N);let b=()=>(0,r.jsxs)("div",{className:j().container,children:[(0,r.jsx)(d,{}),(0,r.jsx)(x,{}),(0,r.jsx)(_,{}),(0,r.jsx)(k,{})]});var E=b},6619:function(e){e.exports={board:"Board_board__O2hAA",cell:"Board_cell__peFpG","color-1":"Board_color-1__IwXYC","color-2":"Board_color-2__CIi8b","color-3":"Board_color-3__RkO8c","color-4":"Board_color-4__jYUkj","color-5":"Board_color-5__04rYI","color-6":"Board_color-6__axP73","color-7":"Board_color-7__s1OS7"}},6542:function(e){e.exports={hover:"Hover_hover__58yN1"}},1642:function(e){e.exports={information:"Information_information__cadY9"}},8042:function(e){e.exports={next:"Next_next__zAIzZ"}},2729:function(e){e.exports={container:"index_container__gnN1f"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);